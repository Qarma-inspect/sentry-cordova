"use strict";var LogLevel,SessionStatus,TransactionSamplingMethod;Object.defineProperty(exports,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"}(LogLevel||(LogLevel={})),function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(SessionStatus||(SessionStatus={})),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(exports.Severity||(exports.Severity={})),function(t){t.fromString=function(n){switch(n){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(exports.Severity||(exports.Severity={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(exports.Status||(exports.Status={})),function(t){t.fromHttpCode=function(n){return n>=200&&n<300?t.Success:429===n?t.RateLimit:n>=400&&n<500?t.Invalid:n>=500?t.Failed:t.Unknown}}(exports.Status||(exports.Status={})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(TransactionSamplingMethod||(TransactionSamplingMethod={}));var esm=Object.freeze({__proto__:null,get LogLevel(){return LogLevel},get SessionStatus(){return SessionStatus},get Severity(){return exports.Severity},get Status(){return exports.Status},get TransactionSamplingMethod(){return TransactionSamplingMethod}}),extendStatics=function(t,n){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function __extends(t,n){function e(){this.constructor=t}extendStatics(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var __assign=function(){return(__assign=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function __rest(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&(e[r[i]]=t[r[i]])}return e}function __decorate(t,n,e,r){var i,o=arguments.length,s=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(n,e,s):i(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s}function __param(t,n){return function(e,r){n(e,r,t)}}function __metadata(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function __awaiter(t,n,e,r){return new(e||(e=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new e(function(n){n(t.value)}).then(s,a)}u((r=r.apply(t,n||[])).next())})}function __generator(t,n){var e,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function __exportStar(t,n){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}function __values(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}function __read(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return s}function __spread(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(__read(arguments[n]));return t}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(n){return new Promise(function(e,r){o.push([t,n,e,r])>1||a(t,n)})})}function a(t,n){try{(e=i[t](n)).value instanceof __await?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}catch(t){l(o[0][3],t)}var e}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,n){t(n),o.shift(),o.length&&a(o[0][0],o[0][1])}}function __asyncDelegator(t){var n,e;return n={},r("next"),r("throw",function(t){throw t}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(r,i){n[r]=t[r]?function(n){return(e=!e)?{value:__await(t[r](n)),done:"return"===r}:i?i(n):n}:i}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(e){n[e]=t[e]&&function(n){return new Promise(function(r,i){(function(t,n,e,r){Promise.resolve(r).then(function(n){t({value:n,done:e})},n)})(r,i,(n=t[e](n)).done,n.value)})}}}function __makeTemplateObject(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}function __importStar(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function __importDefault(t){return t&&t.__esModule?t:{default:t}}var _tslib=Object.freeze({__proto__:null,__extends:__extends,get __assign(){return __assign},__rest:__rest,__decorate:__decorate,__param:__param,__metadata:__metadata,__awaiter:__awaiter,__generator:__generator,__exportStar:__exportStar,__values:__values,__read:__read,__spread:__spread,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault});function forget(t){t.then(null,function(t){console.error(t)})}function isError(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(t,Error)}}function isErrorEvent(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function isDOMError(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function isDOMException(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isPrimitive(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function isPlainObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isEvent(t){return"undefined"!=typeof Event&&isInstanceOf(t,Event)}function isElement(t){return"undefined"!=typeof Element&&isInstanceOf(t,Element)}function isRegExp(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function isThenable(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function isSyntheticEvent(t){return isPlainObject(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function isInstanceOf(t,n){try{return t instanceof n}catch(t){return!1}}function htmlTreeAsString(t){try{for(var n=t,e=[],r=0,i=0,o=" > ".length,s=void 0;n&&r++<5&&!("html"===(s=_htmlElementAsString(n))||r>1&&i+e.length*o+s.length>=80);)e.push(s),i+=s.length,n=n.parentNode;return e.reverse().join(" > ")}catch(t){return"<unknown>"}}function _htmlElementAsString(t){var n,e,r,i,o,s=t,a=[];if(!s||!s.tagName)return"";if(a.push(s.tagName.toLowerCase()),s.id&&a.push("#"+s.id),(n=s.className)&&isString(n))for(e=n.split(/\s+/),o=0;o<e.length;o++)a.push("."+e[o]);var u=["type","name","title","alt"];for(o=0;o<u.length;o++)r=u[o],(i=s.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}var setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(t,n){return t.__proto__=n,t}function mixinProperties(t,n){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e]);return t}var SentryError=function(t){function n(n){var e=this.constructor,r=t.call(this,n)||this;return r.message=n,r.name=e.prototype.constructor.name,setPrototypeOf(r,e.prototype),r}return __extends(n,t),n}(Error),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ERROR_MESSAGE="Invalid Dsn",Dsn=function(){function t(t){"string"==typeof t?this.t(t):this.i(t),this.o()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var n=this,e=n.host,r=n.path,i=n.pass,o=n.port,s=n.projectId;return n.protocol+"://"+n.publicKey+(t&&i?":"+i:"")+"@"+e+(o?":"+o:"")+"/"+(r?r+"/":r)+s},t.prototype.t=function(t){var n=DSN_REGEX.exec(t);if(!n)throw new SentryError(ERROR_MESSAGE);var e=__read(n.slice(1),6),r=e[0],i=e[1],o=e[2],s=void 0===o?"":o,a=e[3],u=e[4],c=void 0===u?"":u,l="",f=e[5],h=f.split("/");if(h.length>1&&(l=h.slice(0,-1).join("/"),f=h.pop()),f){var d=f.match(/^\d+/);d&&(f=d[0])}this.i({host:a,pass:s,path:l,projectId:f,port:c,protocol:r,publicKey:i})},t.prototype.i=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype.o=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(n){if(!t[n])throw new SentryError(ERROR_MESSAGE+": "+n+" missing")}),!this.projectId.match(/^\d+$/))throw new SentryError(ERROR_MESSAGE+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new SentryError(ERROR_MESSAGE+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new SentryError(ERROR_MESSAGE+": Invalid port "+this.port)},t}();function isNodeEnv(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function dynamicRequire(t,n){return t.require(n)}function truncate(t,n){return void 0===n&&(n=0),"string"!=typeof t||0===n?t:t.length<=n?t:t.substr(0,n)+"..."}function snipLine(t,n){var e=t,r=e.length;if(r<=150)return e;n>r&&(n=r);var i=Math.max(n-60,0);i<5&&(i=0);var o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),e=e.slice(i,o),i>0&&(e="'{snip} "+e),o<r&&(e+=" {snip}"),e}function safeJoin(t,n){if(!Array.isArray(t))return"";for(var e=[],r=0;r<t.length;r++){var i=t[r];try{e.push(String(i))}catch(t){e.push("[value cannot be serialized]")}}return e.join(n)}function isMatchingPattern(t,n){return!!isString(t)&&(isRegExp(n)?n.test(t):"string"==typeof n&&-1!==t.indexOf(n))}var fallbackGlobalObject={};function getGlobalObject(){return isNodeEnv()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:fallbackGlobalObject}function uuid4(){var t=getGlobalObject(),n=t.crypto||t.msCrypto;if(void 0!==n&&n.getRandomValues){var e=new Uint16Array(8);n.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var r=function(t){for(var n=t.toString(16);n.length<4;)n="0"+n;return n};return r(e[0])+r(e[1])+r(e[2])+r(e[3])+r(e[4])+r(e[5])+r(e[6])+r(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"===t?n:3&n|8).toString(16)})}function parseUrl(t){if(!t)return{};var n=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};var e=n[6]||"",r=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],relative:n[5]+e+r}}function getEventDescription(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var n=t.exception.values[0];return n.type&&n.value?n.type+": "+n.value:n.type||n.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function consoleSandbox(t){var n=getGlobalObject();if(!("console"in n))return t();var e=n.console,r={};["debug","info","warn","error","log","assert"].forEach(function(t){t in n.console&&e[t].__sentry_original__&&(r[t]=e[t],e[t]=e[t].__sentry_original__)});var i=t();return Object.keys(r).forEach(function(t){e[t]=r[t]}),i}function addExceptionTypeValue(t,n,e){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||n||"",t.exception.values[0].type=t.exception.values[0].type||e||"Error"}function addExceptionMechanism(t,n){void 0===n&&(n={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(n).forEach(function(e){t.exception.values[0].mechanism[e]=n[e]})}catch(t){}}function getLocationHref(){try{return document.location.href}catch(t){return""}}var SEMVER_REGEXP=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function parseSemver(t){var n=t.match(SEMVER_REGEXP)||[],e=parseInt(n[1],10),r=parseInt(n[2],10),i=parseInt(n[3],10);return{buildmetadata:n[5],major:isNaN(e)?void 0:e,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:n[4]}}var defaultRetryAfter=6e4;function parseRetryAfterHeader(t,n){if(!n)return defaultRetryAfter;var e=parseInt(""+n,10);if(!isNaN(e))return 1e3*e;var r=Date.parse(""+n);return isNaN(r)?defaultRetryAfter:r-t}function addContextToFrame(t,n,e){void 0===e&&(e=5);var r=n.lineno||0,i=t.length,o=Math.max(Math.min(i,r-1),0);n.pre_context=t.slice(Math.max(0,o-e),o).map(function(t){return snipLine(t,0)}),n.context_line=snipLine(t[Math.min(i-1,o)],n.colno||0),n.post_context=t.slice(Math.min(o+1,i),o+1+e).map(function(t){return snipLine(t,0)})}function stripUrlQueryAndFragment(t){return t.split(/[\?#]/,1)[0]}var global$1=getGlobalObject(),PREFIX="Sentry Logger ",Logger=function(){function t(){this.s=!1}return t.prototype.disable=function(){this.s=!1},t.prototype.enable=function(){this.s=!0},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.s&&consoleSandbox(function(){global$1.console.log(PREFIX+"[Log]: "+t.join(" "))})},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.s&&consoleSandbox(function(){global$1.console.warn(PREFIX+"[Warn]: "+t.join(" "))})},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.s&&consoleSandbox(function(){global$1.console.error(PREFIX+"[Error]: "+t.join(" "))})},t}();global$1.__SENTRY__=global$1.__SENTRY__||{};var logger=global$1.__SENTRY__.logger||(global$1.__SENTRY__.logger=new Logger),Memo=function(){function t(){this.u="function"==typeof WeakSet,this.l=this.u?new WeakSet:[]}return t.prototype.memoize=function(t){if(this.u)return!!this.l.has(t)||(this.l.add(t),!1);for(var n=0;n<this.l.length;n++){if(this.l[n]===t)return!0}return this.l.push(t),!1},t.prototype.unmemoize=function(t){if(this.u)this.l.delete(t);else for(var n=0;n<this.l.length;n++)if(this.l[n]===t){this.l.splice(n,1);break}},t}(),defaultFunctionName="<anonymous>";function getFunctionName(t){try{return t&&"function"==typeof t&&t.name||defaultFunctionName}catch(t){return defaultFunctionName}}function fill(t,n,e){if(n in t){var r=t[n],i=e(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[n]=i}}function urlEncode(t){return Object.keys(t).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(t[n])}).join("&")}function getWalkSource(t){if(isError(t)){var n=t,e={message:n.message,name:n.name,stack:n.stack};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}if(isEvent(t)){var i=t,o={};o.type=i.type;try{o.target=isElement(i.target)?htmlTreeAsString(i.target):Object.prototype.toString.call(i.target)}catch(t){o.target="<unknown>"}try{o.currentTarget=isElement(i.currentTarget)?htmlTreeAsString(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(t){o.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&isInstanceOf(t,CustomEvent)&&(o.detail=i.detail),i)Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=i);return o}return t}function utf8Length(t){return~-encodeURI(t).split(/%..|./).length}function jsonSize(t){return utf8Length(JSON.stringify(t))}function normalizeToSize(t,n,e){void 0===n&&(n=3),void 0===e&&(e=102400);var r=normalize(t,n);return jsonSize(r)>e?normalizeToSize(t,n-1,e):r}function serializeValue(t){var n=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===n)return"[Object]";if("[object Array]"===n)return"[Array]";var e=normalizeValue(t);return isPrimitive(e)?e:n}function normalizeValue(t,n){return"domain"===n&&t&&"object"==typeof t&&t.h?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":isSyntheticEvent(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+getFunctionName(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function walk(t,n,e,r){if(void 0===e&&(e=1/0),void 0===r&&(r=new Memo),0===e)return serializeValue(n);if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();var i=normalizeValue(n,t);if(isPrimitive(i))return i;var o=getWalkSource(n),s=Array.isArray(n)?[]:{};if(r.memoize(n))return"[Circular ~]";for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=walk(a,o[a],e-1,r));return r.unmemoize(n),s}function normalize(t,n){try{return JSON.parse(JSON.stringify(t,function(t,e){return walk(t,e,n)}))}catch(t){return"**non-serializable**"}}function extractExceptionKeysForMessage(t,n){void 0===n&&(n=40);var e=Object.keys(getWalkSource(t));if(e.sort(),!e.length)return"[object has no keys]";if(e[0].length>=n)return truncate(e[0],n);for(var r=e.length;r>0;r--){var i=e.slice(0,r).join(", ");if(!(i.length>n))return r===e.length?i:truncate(i,n)}return""}function dropUndefinedKeys(t){var n,e;if(isPlainObject(t)){var r=t,i={};try{for(var o=__values(Object.keys(r)),s=o.next();!s.done;s=o.next()){var a=s.value;void 0!==r[a]&&(i[a]=dropUndefinedKeys(r[a]))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return i}return Array.isArray(t)?t.map(dropUndefinedKeys):t}function supportsErrorEvent(){try{return new ErrorEvent(""),!0}catch(t){return!1}}function supportsDOMError(){try{return new DOMError(""),!0}catch(t){return!1}}function supportsDOMException(){try{return new DOMException(""),!0}catch(t){return!1}}function supportsFetch(){if(!("fetch"in getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function isNativeFetch(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function supportsNativeFetch(){if(!supportsFetch())return!1;var t=getGlobalObject();if(isNativeFetch(t.fetch))return!0;var n=!1,e=t.document;if(e&&"function"==typeof e.createElement)try{var r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(n=isNativeFetch(r.contentWindow.fetch)),e.head.removeChild(r)}catch(t){logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return n}function supportsReportingObserver(){return"ReportingObserver"in getGlobalObject()}function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function supportsHistory(){var t=getGlobalObject(),n=t.chrome,e=n&&n.app&&n.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!e&&r}var lastHref,global$2=getGlobalObject(),handlers={},instrumented={};function instrument(t){if(!instrumented[t])switch(instrumented[t]=!0,t){case"console":instrumentConsole();break;case"dom":instrumentDOM();break;case"xhr":instrumentXHR();break;case"fetch":instrumentFetch();break;case"history":instrumentHistory();break;case"error":instrumentError();break;case"unhandledrejection":instrumentUnhandledRejection();break;default:logger.warn("unknown instrumentation type:",t)}}function addInstrumentationHandler(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(handlers[t.type]=handlers[t.type]||[],handlers[t.type].push(t.callback),instrument(t.type))}function triggerHandlers(t,n){var e,r;if(t&&handlers[t])try{for(var i=__values(handlers[t]||[]),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(n)}catch(n){logger.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+getFunctionName(s)+"\nError: "+n)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}function instrumentConsole(){"console"in global$2&&["debug","info","warn","error","log","assert"].forEach(function(t){t in global$2.console&&fill(global$2.console,t,function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];triggerHandlers("console",{args:e,level:t}),n&&Function.prototype.apply.call(n,global$2.console,e)}})})}function instrumentFetch(){supportsNativeFetch()&&fill(global$2,"fetch",function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r={args:n,fetchData:{method:getFetchMethod(n),url:getFetchUrl(n)},startTimestamp:Date.now()};return triggerHandlers("fetch",__assign({},r)),t.apply(global$2,n).then(function(t){return triggerHandlers("fetch",__assign(__assign({},r),{endTimestamp:Date.now(),response:t})),t},function(t){throw triggerHandlers("fetch",__assign(__assign({},r),{endTimestamp:Date.now(),error:t})),t})}})}function getFetchMethod(t){return void 0===t&&(t=[]),"Request"in global$2&&isInstanceOf(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function getFetchUrl(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in global$2&&isInstanceOf(t[0],Request)?t[0].url:String(t[0])}function instrumentXHR(){if("XMLHttpRequest"in global$2){var t=[],n=[],e=XMLHttpRequest.prototype;fill(e,"open",function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,s=r[1];o.__sentry_xhr__={method:isString(r[0])?r[0].toUpperCase():r[0],url:r[1]},isString(s)&&"POST"===o.__sentry_xhr__.method&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var a=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}try{var e=t.indexOf(o);if(-1!==e){t.splice(e);var i=n.splice(e)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(t){}triggerHandlers("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?fill(o,"onreadystatechange",function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return a(),t.apply(o,n)}}):o.addEventListener("readystatechange",a),e.apply(o,r)}}),fill(e,"send",function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.push(this),n.push(r),triggerHandlers("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}}function instrumentHistory(){if(supportsHistory()){var t=global$2.onpopstate;global$2.onpopstate=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=global$2.location.href,i=lastHref;if(lastHref=r,triggerHandlers("history",{from:i,to:r}),t)return t.apply(this,n)},fill(global$2.history,"pushState",n),fill(global$2.history,"replaceState",n)}function n(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=n.length>2?n[2]:void 0;if(r){var i=lastHref,o=String(r);lastHref=o,triggerHandlers("history",{from:i,to:o})}return t.apply(this,n)}}}var debounceTimerID,lastCapturedEvent,debounceDuration=1e3;function shouldShortcircuitPreviousDebounce(t,n){if(!t)return!0;if(t.type!==n.type)return!0;try{if(t.target!==n.target)return!0}catch(t){}return!1}function shouldSkipDOMEvent(t){if("keypress"!==t.type)return!1;try{var n=t.target;if(!n||!n.tagName)return!0;if("INPUT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable)return!1}catch(t){}return!0}function makeDOMEventHandler(t,n){return void 0===n&&(n=!1),function(e){if(e&&lastCapturedEvent!==e&&!shouldSkipDOMEvent(e)){var r="keypress"===e.type?"input":e.type;void 0===debounceTimerID?(t({event:e,name:r,global:n}),lastCapturedEvent=e):shouldShortcircuitPreviousDebounce(lastCapturedEvent,e)&&(t({event:e,name:r,global:n}),lastCapturedEvent=e),clearTimeout(debounceTimerID),debounceTimerID=global$2.setTimeout(function(){debounceTimerID=void 0},debounceDuration)}}}function instrumentDOM(){if("document"in global$2){var t=triggerHandlers.bind(null,"dom"),n=makeDOMEventHandler(t,!0);global$2.document.addEventListener("click",n,!1),global$2.document.addEventListener("keypress",n,!1),["EventTarget","Node"].forEach(function(n){var e=global$2[n]&&global$2[n].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(fill(e,"addEventListener",function(n){return function(e,r,i){if("click"===e||"keypress"==e)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=o[e]=o[e]||{refCount:0};if(!s.handler){var a=makeDOMEventHandler(t);s.handler=a,n.call(this,e,a,i)}s.refCount+=1}catch(t){}return n.call(this,e,r,i)}}),fill(e,"removeEventListener",function(t){return function(n,e,r){if("click"===n||"keypress"==n)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[n];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,n,o.handler,r),o.handler=void 0,delete i[n]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,n,e,r)}}))})}}var _oldOnErrorHandler=null;function instrumentError(){_oldOnErrorHandler=global$2.onerror,global$2.onerror=function(t,n,e,r,i){return triggerHandlers("error",{column:r,error:i,line:e,msg:t,url:n}),!!_oldOnErrorHandler&&_oldOnErrorHandler.apply(this,arguments)}}var _oldOnUnhandledRejectionHandler=null;function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=global$2.onunhandledrejection,global$2.onunhandledrejection=function(t){return triggerHandlers("unhandledrejection",t),!_oldOnUnhandledRejectionHandler||_oldOnUnhandledRejectionHandler.apply(this,arguments)}}function normalizeArray(t,n){for(var e=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),e++):e&&(t.splice(r,1),e--)}if(n)for(;e--;e)t.unshift("..");return t}var States,splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function splitPath(t){var n=splitPathRe.exec(t);return n?n.slice(1):[]}function resolve(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e="",r=!1,i=t.length-1;i>=-1&&!r;i--){var o=i>=0?t[i]:"/";o&&(e=o+"/"+e,r="/"===o.charAt(0))}return(r?"/":"")+(e=normalizeArray(e.split("/").filter(function(t){return!!t}),!r).join("/"))||"."}function trim(t){for(var n=0;n<t.length&&""===t[n];n++);for(var e=t.length-1;e>=0&&""===t[e];e--);return n>e?[]:t.slice(n,e-n+1)}function relative(t,n){t=resolve(t).substr(1),n=resolve(n).substr(1);for(var e=trim(t.split("/")),r=trim(n.split("/")),i=Math.min(e.length,r.length),o=i,s=0;s<i;s++)if(e[s]!==r[s]){o=s;break}var a=[];for(s=o;s<e.length;s++)a.push("..");return(a=a.concat(r.slice(o))).join("/")}function normalizePath(t){var n=isAbsolute(t),e="/"===t.substr(-1),r=normalizeArray(t.split("/").filter(function(t){return!!t}),!n).join("/");return r||n||(r="."),r&&e&&(r+="/"),(n?"/":"")+r}function isAbsolute(t){return"/"===t.charAt(0)}function join(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return normalizePath(t.join("/"))}function dirname(t){var n=splitPath(t),e=n[0],r=n[1];return e||r?(r&&(r=r.substr(0,r.length-1)),e+r):"."}function basename(t,n){var e=splitPath(t)[2];return n&&e.substr(-1*n.length)===n&&(e=e.substr(0,e.length-n.length)),e}!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(States||(States={}));var SyncPromise=function(){function t(t){var n=this;this.p=States.PENDING,this.g=[],this.m=function(t){n._(States.RESOLVED,t)},this.S=function(t){n._(States.REJECTED,t)},this._=function(t,e){n.p===States.PENDING&&(isThenable(e)?e.then(n.m,n.S):(n.p=t,n.O=e,n.T()))},this.N=function(t){n.g=n.g.concat(t),n.T()},this.T=function(){if(n.p!==States.PENDING){var t=n.g.slice();n.g=[],t.forEach(function(t){t.done||(n.p===States.RESOLVED&&t.onfulfilled&&t.onfulfilled(n.O),n.p===States.REJECTED&&t.onrejected&&t.onrejected(n.O),t.done=!0)})}};try{t(this.m,this.S)}catch(t){this.S(t)}}return t.resolve=function(n){return new t(function(t){t(n)})},t.reject=function(n){return new t(function(t,e){e(n)})},t.all=function(n){return new t(function(e,r){if(Array.isArray(n))if(0!==n.length){var i=n.length,o=[];n.forEach(function(n,s){t.resolve(n).then(function(t){o[s]=t,0===(i-=1)&&e(o)}).then(null,r)})}else e([]);else r(new TypeError("Promise.all requires an array as input."))})},t.prototype.then=function(n,e){var r=this;return new t(function(t,i){r.N({done:!1,onfulfilled:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else t(e)},onrejected:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else i(n)}})})},t.prototype.catch=function(t){return this.then(function(t){return t},t)},t.prototype.finally=function(n){var e=this;return new t(function(t,r){var i,o;return e.then(function(t){o=!1,i=t,n&&n()},function(t){o=!0,i=t,n&&n()}).then(function(){o?r(i):t(i)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),PromiseBuffer=function(){function t(t){this.j=t,this.I=[]}return t.prototype.isReady=function(){return void 0===this.j||this.length()<this.j},t.prototype.add=function(t){var n=this;return this.isReady()?(-1===this.I.indexOf(t)&&this.I.push(t),t.then(function(){return n.remove(t)}).then(null,function(){return n.remove(t).then(null,function(){})}),t):SyncPromise.reject(new SentryError("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this.I.splice(this.I.indexOf(t),1)[0]},t.prototype.length=function(){return this.I.length},t.prototype.drain=function(t){var n=this;return new SyncPromise(function(e){var r=setTimeout(function(){t&&t>0&&e(!1)},t);SyncPromise.all(n.I).then(function(){clearTimeout(r),e(!0)}).then(null,function(){e(!0)})})},t}(),dateTimestampSource={nowSeconds:function(){return Date.now()/1e3}};function getBrowserPerformance(){var t=getGlobalObject().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}function getNodePerformance(){try{return dynamicRequire(module,"perf_hooks").performance}catch(t){return}}var platformPerformance=isNodeEnv()?getNodePerformance():getBrowserPerformance(),timestampSource=void 0===platformPerformance?dateTimestampSource:{nowSeconds:function(){return(platformPerformance.timeOrigin+platformPerformance.now())/1e3}},dateTimestampInSeconds=dateTimestampSource.nowSeconds.bind(dateTimestampSource),timestampInSeconds=timestampSource.nowSeconds.bind(timestampSource),timestampWithMs=timestampInSeconds,usingPerformanceAPI=void 0!==platformPerformance,browserPerformanceTimeOrigin=function(){var t=getGlobalObject().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}(),esm$1=Object.freeze({__proto__:null,forget:forget,htmlTreeAsString:htmlTreeAsString,Dsn:Dsn,SentryError:SentryError,addInstrumentationHandler:addInstrumentationHandler,isError:isError,isErrorEvent:isErrorEvent,isDOMError:isDOMError,isDOMException:isDOMException,isString:isString,isPrimitive:isPrimitive,isPlainObject:isPlainObject,isEvent:isEvent,isElement:isElement,isRegExp:isRegExp,isThenable:isThenable,isSyntheticEvent:isSyntheticEvent,isInstanceOf:isInstanceOf,logger:logger,Memo:Memo,getGlobalObject:getGlobalObject,uuid4:uuid4,parseUrl:parseUrl,getEventDescription:getEventDescription,consoleSandbox:consoleSandbox,addExceptionTypeValue:addExceptionTypeValue,addExceptionMechanism:addExceptionMechanism,getLocationHref:getLocationHref,parseSemver:parseSemver,parseRetryAfterHeader:parseRetryAfterHeader,addContextToFrame:addContextToFrame,stripUrlQueryAndFragment:stripUrlQueryAndFragment,isNodeEnv:isNodeEnv,dynamicRequire:dynamicRequire,fill:fill,urlEncode:urlEncode,normalizeToSize:normalizeToSize,walk:walk,normalize:normalize,extractExceptionKeysForMessage:extractExceptionKeysForMessage,dropUndefinedKeys:dropUndefinedKeys,resolve:resolve,relative:relative,normalizePath:normalizePath,isAbsolute:isAbsolute,join:join,dirname:dirname,basename:basename,PromiseBuffer:PromiseBuffer,getFunctionName:getFunctionName,truncate:truncate,snipLine:snipLine,safeJoin:safeJoin,isMatchingPattern:isMatchingPattern,supportsErrorEvent:supportsErrorEvent,supportsDOMError:supportsDOMError,supportsDOMException:supportsDOMException,supportsFetch:supportsFetch,supportsNativeFetch:supportsNativeFetch,supportsReportingObserver:supportsReportingObserver,supportsReferrerPolicy:supportsReferrerPolicy,supportsHistory:supportsHistory,SyncPromise:SyncPromise,dateTimestampInSeconds:dateTimestampInSeconds,timestampInSeconds:timestampInSeconds,timestampWithMs:timestampWithMs,usingPerformanceAPI:usingPerformanceAPI,browserPerformanceTimeOrigin:browserPerformanceTimeOrigin}),Scope=function(){function t(){this.R=!1,this.P=[],this.k=[],this.C=[],this.M={},this.D={},this.A={},this.H={}}return t.clone=function(n){var e=new t;return n&&(e.C=__spread(n.C),e.D=__assign({},n.D),e.A=__assign({},n.A),e.H=__assign({},n.H),e.M=n.M,e.F=n.F,e.U=n.U,e.$=n.$,e.G=n.G,e.L=n.L,e.k=__spread(n.k)),e},t.prototype.addScopeListener=function(t){this.P.push(t)},t.prototype.addEventProcessor=function(t){return this.k.push(t),this},t.prototype.setUser=function(t){return this.M=t||{},this.$&&this.$.update({user:t}),this.B(),this},t.prototype.getUser=function(){return this.M},t.prototype.setTags=function(t){return this.D=__assign(__assign({},this.D),t),this.B(),this},t.prototype.setTag=function(t,n){var e;return this.D=__assign(__assign({},this.D),((e={})[t]=n,e)),this.B(),this},t.prototype.setExtras=function(t){return this.A=__assign(__assign({},this.A),t),this.B(),this},t.prototype.setExtra=function(t,n){var e;return this.A=__assign(__assign({},this.A),((e={})[t]=n,e)),this.B(),this},t.prototype.setFingerprint=function(t){return this.L=t,this.B(),this},t.prototype.setLevel=function(t){return this.F=t,this.B(),this},t.prototype.setTransactionName=function(t){return this.G=t,this.B(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,n){var e;return null===n?delete this.H[t]:this.H=__assign(__assign({},this.H),((e={})[t]=n,e)),this.B(),this},t.prototype.setSpan=function(t){return this.U=t,this.B(),this},t.prototype.getSpan=function(){return this.U},t.prototype.getTransaction=function(){var t,n,e,r,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(n=i)||void 0===n?void 0:n.transaction:(null===(r=null===(e=i)||void 0===e?void 0:e.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this.$=t:delete this.$,this.B(),this},t.prototype.getSession=function(){return this.$},t.prototype.update=function(n){if(!n)return this;if("function"==typeof n){var e=n(this);return e instanceof t?e:this}return n instanceof t?(this.D=__assign(__assign({},this.D),n.D),this.A=__assign(__assign({},this.A),n.A),this.H=__assign(__assign({},this.H),n.H),n.M&&Object.keys(n.M).length&&(this.M=n.M),n.F&&(this.F=n.F),n.L&&(this.L=n.L)):isPlainObject(n)&&(n=n,this.D=__assign(__assign({},this.D),n.tags),this.A=__assign(__assign({},this.A),n.extra),this.H=__assign(__assign({},this.H),n.contexts),n.user&&(this.M=n.user),n.level&&(this.F=n.level),n.fingerprint&&(this.L=n.fingerprint)),this},t.prototype.clear=function(){return this.C=[],this.D={},this.A={},this.M={},this.H={},this.F=void 0,this.G=void 0,this.L=void 0,this.U=void 0,this.$=void 0,this.B(),this},t.prototype.addBreadcrumb=function(t,n){var e=__assign({timestamp:dateTimestampInSeconds()},t);return this.C=void 0!==n&&n>=0?__spread(this.C,[e]).slice(-n):__spread(this.C,[e]),this.B(),this},t.prototype.clearBreadcrumbs=function(){return this.C=[],this.B(),this},t.prototype.applyToEvent=function(t,n){var e;if(this.A&&Object.keys(this.A).length&&(t.extra=__assign(__assign({},this.A),t.extra)),this.D&&Object.keys(this.D).length&&(t.tags=__assign(__assign({},this.D),t.tags)),this.M&&Object.keys(this.M).length&&(t.user=__assign(__assign({},this.M),t.user)),this.H&&Object.keys(this.H).length&&(t.contexts=__assign(__assign({},this.H),t.contexts)),this.F&&(t.level=this.F),this.G&&(t.transaction=this.G),this.U){t.contexts=__assign({trace:this.U.getTraceContext()},t.contexts);var r=null===(e=this.U.transaction)||void 0===e?void 0:e.name;r&&(t.tags=__assign({transaction:r},t.tags))}return this.V(t),t.breadcrumbs=__spread(t.breadcrumbs||[],this.C),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this.q(__spread(getGlobalEventProcessors(),this.k),t,n)},t.prototype.q=function(t,n,e,r){var i=this;return void 0===r&&(r=0),new SyncPromise(function(o,s){var a=t[r];if(null===n||"function"!=typeof a)o(n);else{var u=a(__assign({},n),e);isThenable(u)?u.then(function(n){return i.q(t,n,e,r+1).then(o)}).then(null,s):i.q(t,u,e,r+1).then(o).then(null,s)}})},t.prototype.B=function(){var t=this;this.R||(this.R=!0,this.P.forEach(function(n){n(t)}),this.R=!1)},t.prototype.V=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this.L&&(t.fingerprint=t.fingerprint.concat(this.L)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function getGlobalEventProcessors(){var t=getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function addGlobalEventProcessor(t){getGlobalEventProcessors().push(t)}var Session=function(){function t(t){this.errors=0,this.sid=uuid4(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=SessionStatus.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:uuid4()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===SessionStatus.Ok?this.update({status:SessionStatus.Exited}):this.update()},t.prototype.toJSON=function(){return dropUndefinedKeys({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:dropUndefinedKeys({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),API_VERSION=3,DEFAULT_BREADCRUMBS=100,MAX_BREADCRUMBS=100,Hub=function(){function t(t,n,e){void 0===n&&(n=new Scope),void 0===e&&(e=API_VERSION),this.K=e,this.W=[{}],this.getStackTop().scope=n,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this.K<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var n=this.pushScope();try{t(n)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this.W},t.prototype.getStackTop=function(){return this.W[this.W.length-1]},t.prototype.captureException=function(t,n){var e=this.X=uuid4(),r=n;if(!n){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}r={originalException:t,syntheticException:i}}return this.J("captureException",t,__assign(__assign({},r),{event_id:e})),e},t.prototype.captureMessage=function(t,n,e){var r=this.X=uuid4(),i=e;if(!e){var o=void 0;try{throw new Error(t)}catch(t){o=t}i={originalException:t,syntheticException:o}}return this.J("captureMessage",t,n,__assign(__assign({},i),{event_id:r})),r},t.prototype.captureEvent=function(t,n){var e=this.X=uuid4();return this.J("captureEvent",t,__assign(__assign({},n),{event_id:e})),e},t.prototype.lastEventId=function(){return this.X},t.prototype.addBreadcrumb=function(t,n){var e=this.getStackTop(),r=e.scope,i=e.client;if(r&&i){var o=i.getOptions&&i.getOptions()||{},s=o.beforeBreadcrumb,a=void 0===s?null:s,u=o.maxBreadcrumbs,c=void 0===u?DEFAULT_BREADCRUMBS:u;if(!(c<=0)){var l=dateTimestampInSeconds(),f=__assign({timestamp:l},t),h=a?consoleSandbox(function(){return a(f,n)}):f;null!==h&&r.addBreadcrumb(h,Math.min(c,MAX_BREADCRUMBS))}}},t.prototype.setUser=function(t){var n=this.getScope();n&&n.setUser(t)},t.prototype.setTags=function(t){var n=this.getScope();n&&n.setTags(t)},t.prototype.setExtras=function(t){var n=this.getScope();n&&n.setExtras(t)},t.prototype.setTag=function(t,n){var e=this.getScope();e&&e.setTag(t,n)},t.prototype.setExtra=function(t,n){var e=this.getScope();e&&e.setExtra(t,n)},t.prototype.setContext=function(t,n){var e=this.getScope();e&&e.setContext(t,n)},t.prototype.configureScope=function(t){var n=this.getStackTop(),e=n.scope,r=n.client;e&&r&&t(e)},t.prototype.run=function(t){var n=makeMain(this);try{t(this)}finally{makeMain(n)}},t.prototype.getIntegration=function(t){var n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch(n){return logger.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this.Y("startSpan",t)},t.prototype.startTransaction=function(t,n){return this.Y("startTransaction",t,n)},t.prototype.traceHeaders=function(){return this.Y("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this.Z()},t.prototype.endSession=function(){var t,n,e,r,i;null===(e=null===(n=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===n?void 0:n.getSession())||void 0===e||e.close(),this.Z(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var n=this.getStackTop(),e=n.scope,r=n.client,i=r&&r.getOptions()||{},o=i.release,s=i.environment,a=new Session(__assign(__assign({release:o,environment:s},e&&{user:e.getUser()}),t));if(e){var u=e.getSession&&e.getSession();u&&u.status===SessionStatus.Ok&&u.update({status:SessionStatus.Exited}),this.endSession(),e.setSession(a)}return a},t.prototype.Z=function(){var t=this.getStackTop(),n=t.scope,e=t.client;if(n){var r=n.getSession&&n.getSession();r&&e&&e.captureSession&&e.captureSession(r)}},t.prototype.J=function(t){for(var n,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=this.getStackTop(),o=i.scope,s=i.client;s&&s[t]&&(n=s)[t].apply(n,__spread(e,[o]))},t.prototype.Y=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=getMainCarrier().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,n);logger.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function getMainCarrier(){var t=getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function makeMain(t){var n=getMainCarrier(),e=getHubFromCarrier(n);return setHubOnCarrier(n,t),e}function getCurrentHub(){var t=getMainCarrier();return hasHubOnCarrier(t)&&!getHubFromCarrier(t).isOlderThan(API_VERSION)||setHubOnCarrier(t,new Hub),isNodeEnv()?getHubFromActiveDomain(t):getHubFromCarrier(t)}function getHubFromActiveDomain(t){var n,e,r;try{var i=null===(r=null===(e=null===(n=getMainCarrier().__SENTRY__)||void 0===n?void 0:n.extensions)||void 0===e?void 0:e.domain)||void 0===r?void 0:r.active;if(!i)return getHubFromCarrier(t);if(!hasHubOnCarrier(i)||getHubFromCarrier(i).isOlderThan(API_VERSION)){var o=getHubFromCarrier(t).getStackTop();setHubOnCarrier(i,new Hub(o.client,Scope.clone(o.scope)))}return getHubFromCarrier(i)}catch(n){return getHubFromCarrier(t)}}function hasHubOnCarrier(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function getHubFromCarrier(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Hub,t.__SENTRY__.hub)}function setHubOnCarrier(t,n){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=n,!0)}function callOnHub(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=getCurrentHub();if(r&&r[t])return r[t].apply(r,__spread(n));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function captureException(t,n){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return callOnHub("captureException",t,{captureContext:n,originalException:t,syntheticException:e})}function captureMessage(t,n){var e;try{throw new Error(t)}catch(t){e=t}return callOnHub("captureMessage",t,"string"==typeof n?n:void 0,__assign({originalException:t,syntheticException:e},"string"!=typeof n?{captureContext:n}:void 0))}function captureEvent(t){return callOnHub("captureEvent",t)}function configureScope(t){callOnHub("configureScope",t)}function addBreadcrumb(t){callOnHub("addBreadcrumb",t)}function setContext(t,n){callOnHub("setContext",t,n)}function setExtras(t){callOnHub("setExtras",t)}function setTags(t){callOnHub("setTags",t)}function setExtra(t,n){callOnHub("setExtra",t,n)}function setTag(t,n){callOnHub("setTag",t,n)}function setUser(t){callOnHub("setUser",t)}function withScope(t){callOnHub("withScope",t)}function startTransaction(t,n){return callOnHub("startTransaction",__assign({},t),n)}var SENTRY_API_VERSION="7",API=function(){function t(t,n){void 0===n&&(n={}),this.dsn=t,this.tt=new Dsn(t),this.metadata=n}return t.prototype.getDsn=function(){return this.tt},t.prototype.getBaseApiEndpoint=function(){var t=this.tt,n=t.protocol?t.protocol+":":"",e=t.port?":"+t.port:"";return n+"//"+t.host+e+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this.nt("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this.et()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.rt()+"?"+this.et()},t.prototype.getStoreEndpointPath=function(){var t=this.tt;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,n){var e=this.tt,r=["Sentry sentry_version="+SENTRY_API_VERSION];return r.push("sentry_client="+t+"/"+n),r.push("sentry_key="+e.publicKey),e.pass&&r.push("sentry_secret="+e.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var n=this.tt,e=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+n.toString()),t)if("dsn"!==i)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?e+"?"+r.join("&"):e},t.prototype.rt=function(){return this.nt("envelope")},t.prototype.nt=function(t){return""+this.getBaseApiEndpoint()+this.tt.projectId+"/"+t+"/"},t.prototype.et=function(){return urlEncode({sentry_key:this.tt.publicKey,sentry_version:SENTRY_API_VERSION})},t}(),installedIntegrations=[];function getIntegrationsToSetup(t){var n=t.defaultIntegrations&&__spread(t.defaultIntegrations)||[],e=t.integrations,r=[];if(Array.isArray(e)){var i=e.map(function(t){return t.name}),o=[];n.forEach(function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))}),e.forEach(function(t){-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))})}else"function"==typeof e?(r=e(n),r=Array.isArray(r)?r:[r]):r=__spread(n);var s=r.map(function(t){return t.name});return-1!==s.indexOf("Debug")&&r.push.apply(r,__spread(r.splice(s.indexOf("Debug"),1))),r}function setupIntegration(t){-1===installedIntegrations.indexOf(t.name)&&(t.setupOnce(addGlobalEventProcessor,getCurrentHub),installedIntegrations.push(t.name),logger.log("Integration installed: "+t.name))}function setupIntegrations(t){var n={};return getIntegrationsToSetup(t).forEach(function(t){n[t.name]=t,setupIntegration(t)}),n}var BaseClient=function(){function t(t,n){this.it={},this.ot=0,this.st=new t(n),this.at=n,n.dsn&&(this.ut=new Dsn(n.dsn))}return t.prototype.captureException=function(t,n,e){var r=this,i=n&&n.event_id;return this.ct(this.lt().eventFromException(t,n).then(function(t){return r.ft(t,n,e)}).then(function(t){i=t})),i},t.prototype.captureMessage=function(t,n,e,r){var i=this,o=e&&e.event_id,s=isPrimitive(t)?this.lt().eventFromMessage(String(t),n,e):this.lt().eventFromException(t,e);return this.ct(s.then(function(t){return i.ft(t,e,r)}).then(function(t){o=t})),o},t.prototype.captureEvent=function(t,n,e){var r=n&&n.event_id;return this.ct(this.ft(t,n,e).then(function(t){r=t})),r},t.prototype.captureSession=function(t){t.release?(this.ht(t),t.update({init:!1})):logger.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this.ut},t.prototype.getOptions=function(){return this.at},t.prototype.flush=function(t){var n=this;return this.dt(t).then(function(e){return n.lt().getTransport().close(t).then(function(t){return e&&t})})},t.prototype.close=function(t){var n=this;return this.flush(t).then(function(t){return n.getOptions().enabled=!1,t})},t.prototype.setupIntegrations=function(){this.vt()&&(this.it=setupIntegrations(this.at))},t.prototype.getIntegration=function(t){try{return this.it[t.id]||null}catch(n){return logger.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype.pt=function(t,n){var e,r,i,o=!1,s=!1,a=n.exception&&n.exception.values;if(a){s=!0;try{for(var u=__values(a),c=u.next();!c.done;c=u.next()){var l=c.value.mechanism;if(l&&!1===l.handled){o=!0;break}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}}var f=n.user;if(!t.userAgent){var h=n.request?n.request.headers:{};for(var d in h)if("user-agent"===d.toLowerCase()){i=h[d];break}}t.update(__assign(__assign({},o&&{status:SessionStatus.Crashed}),{user:f,userAgent:i,errors:t.errors+Number(s||o)})),this.captureSession(t)},t.prototype.ht=function(t){this.lt().sendSession(t)},t.prototype.dt=function(t){var n=this;return new SyncPromise(function(e){var r=0,i=setInterval(function(){0==n.ot?(clearInterval(i),e(!0)):(r+=1,t&&r>=t&&(clearInterval(i),e(!1)))},1)})},t.prototype.lt=function(){return this.st},t.prototype.vt=function(){return!1!==this.getOptions().enabled&&void 0!==this.ut},t.prototype.gt=function(t,n,e){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,s=__assign(__assign({},t),{event_id:t.event_id||(e&&e.event_id?e.event_id:uuid4()),timestamp:t.timestamp||dateTimestampInSeconds()});this._t(s),this.bt(s);var a=n;e&&e.captureContext&&(a=Scope.clone(a).update(e.captureContext));var u=SyncPromise.resolve(s);return a&&(u=a.applyToEvent(s,e)),u.then(function(t){return"number"==typeof o&&o>0?r.yt(t,o):t})},t.prototype.yt=function(t,n){if(!t)return null;var e=__assign(__assign(__assign(__assign(__assign({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return __assign(__assign({},t),t.data&&{data:normalize(t.data,n)})})}),t.user&&{user:normalize(t.user,n)}),t.contexts&&{contexts:normalize(t.contexts,n)}),t.extra&&{extra:normalize(t.extra,n)});return t.contexts&&t.contexts.trace&&(e.contexts.trace=t.contexts.trace),e},t.prototype._t=function(t){var n=this.getOptions(),e=n.environment,r=n.release,i=n.dist,o=n.maxValueLength,s=void 0===o?250:o;"environment"in t||(t.environment="environment"in n?e:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=truncate(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=truncate(a.value,s));var u=t.request;u&&u.url&&(u.url=truncate(u.url,s))},t.prototype.bt=function(t){var n=t.sdk,e=Object.keys(this.it);n&&e.length>0&&(n.integrations=e)},t.prototype.Et=function(t){this.lt().sendEvent(t)},t.prototype.ft=function(t,n,e){return this.St(t,n,e).then(function(t){return t.event_id},function(t){logger.error(t)})},t.prototype.St=function(t,n,e){var r=this,i=this.getOptions(),o=i.beforeSend,s=i.sampleRate;if(!this.vt())return SyncPromise.reject(new SentryError("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?SyncPromise.reject(new SentryError("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this.gt(t,e,n).then(function(t){if(null===t)throw new SentryError("An event processor returned null, will not send event.");if(n&&n.data&&!0===n.data.__sentry__||a||!o)return t;var e=o(t,n);if(void 0===e)throw new SentryError("`beforeSend` method has to return `null` or a valid event.");return isThenable(e)?e.then(function(t){return t},function(t){throw new SentryError("beforeSend rejected with "+t)}):e}).then(function(t){if(null===t)throw new SentryError("`beforeSend` returned `null`, will not send event.");var n=e&&e.getSession&&e.getSession();return!a&&n&&r.pt(n,t),r.Et(t),t}).then(null,function(t){if(t instanceof SentryError)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new SentryError("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})},t.prototype.ct=function(t){var n=this;this.ot+=1,t.then(function(t){return n.ot-=1,t},function(t){return n.ot-=1,t})},t}(),NoopTransport=function(){function t(){}return t.prototype.sendEvent=function(t){return SyncPromise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:exports.Status.Skipped})},t.prototype.close=function(t){return SyncPromise.resolve(!0)},t}(),BaseBackend=function(){function t(t){this.at=t,this.at.dsn||logger.warn("No DSN provided, backend will not do anything."),this.wt=this.Ot()}return t.prototype.eventFromException=function(t,n){throw new SentryError("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,n,e){throw new SentryError("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this.wt.sendEvent(t).then(null,function(t){logger.error("Error while sending event: "+t)})},t.prototype.sendSession=function(t){this.wt.sendSession?this.wt.sendSession(t).then(null,function(t){logger.error("Error while sending session: "+t)}):logger.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this.wt},t.prototype.Ot=function(){return new NoopTransport},t}();function getSdkMetadataForEnvelopeHeader(t){if(t.metadata&&t.metadata.sdk){var n=t.metadata.sdk;return{name:n.name,version:n.version}}}function enhanceEventWithSdkInfo(t,n){return n?(t.sdk=t.sdk||{name:n.name,version:n.version},t.sdk.name=t.sdk.name||n.name,t.sdk.version=t.sdk.version||n.version,t.sdk.integrations=__spread(t.sdk.integrations||[],n.integrations||[]),t.sdk.packages=__spread(t.sdk.packages||[],n.packages||[]),t):t}function sessionToSentryRequest(t,n){var e=getSdkMetadataForEnvelopeHeader(n);return{body:JSON.stringify(__assign({sent_at:(new Date).toISOString()},e&&{sdk:e}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:n.getEnvelopeEndpointWithUrlEncodedAuth()}}function eventToSentryRequest(t,n){var e=getSdkMetadataForEnvelopeHeader(n),r=t.type||"event",i="transaction"===r,o=t.debug_meta||{},s=o.transactionSampling,a=__rest(o,["transactionSampling"]),u=s||{},c=u.method,l=u.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var f={body:JSON.stringify(e?enhanceEventWithSdkInfo(t,n.metadata.sdk):t),type:r,url:i?n.getEnvelopeEndpointWithUrlEncodedAuth():n.getStoreEndpointWithUrlEncodedAuth()};if(i){var h=JSON.stringify(__assign({event_id:t.event_id,sent_at:(new Date).toISOString()},e&&{sdk:e}))+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:c,rate:l}]})+"\n"+f.body;f.body=h}return f}function initAndBind(t,n){!0===n.debug&&logger.enable();var e=getCurrentHub(),r=new t(n);e.bindClient(r)}var originalFunctionToString,SDK_VERSION="6.1.0",FunctionToString=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this.__sentry_original__||this;return originalFunctionToString.apply(e,t)}},t.id="FunctionToString",t}(),DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],InboundFilters=function(){function t(n){void 0===n&&(n={}),this.at=n,this.name=t.id}return t.prototype.setupOnce=function(){addGlobalEventProcessor(function(n){var e=getCurrentHub();if(!e)return n;var r=e.getIntegration(t);if(r){var i=e.getClient(),o=i?i.getOptions():{},s=r.xt(o);if(r.Tt(n,s))return null}return n})},t.prototype.Tt=function(t,n){return this.Nt(t,n)?(logger.warn("Event dropped due to being internal Sentry Error.\nEvent: "+getEventDescription(t)),!0):this.jt(t,n)?(logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+getEventDescription(t)),!0):this.It(t,n)?(logger.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+getEventDescription(t)+".\nUrl: "+this.Rt(t)),!0):!this.Pt(t,n)&&(logger.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+getEventDescription(t)+".\nUrl: "+this.Rt(t)),!0)},t.prototype.Nt=function(t,n){if(!n.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype.jt=function(t,n){return!(!n.ignoreErrors||!n.ignoreErrors.length)&&this.kt(t).some(function(t){return n.ignoreErrors.some(function(n){return isMatchingPattern(t,n)})})},t.prototype.It=function(t,n){if(!n.denyUrls||!n.denyUrls.length)return!1;var e=this.Rt(t);return!!e&&n.denyUrls.some(function(t){return isMatchingPattern(e,t)})},t.prototype.Pt=function(t,n){if(!n.allowUrls||!n.allowUrls.length)return!0;var e=this.Rt(t);return!e||n.allowUrls.some(function(t){return isMatchingPattern(e,t)})},t.prototype.xt=function(t){return void 0===t&&(t={}),{allowUrls:__spread(this.at.whitelistUrls||[],this.at.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:__spread(this.at.blacklistUrls||[],this.at.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:__spread(this.at.ignoreErrors||[],t.ignoreErrors||[],DEFAULT_IGNORE_ERRORS),ignoreInternal:void 0===this.at.ignoreInternal||this.at.ignoreInternal}},t.prototype.kt=function(t){if(t.message)return[t.message];if(t.exception)try{var n=t.exception.values&&t.exception.values[0]||{},e=n.type,r=void 0===e?"":e,i=n.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(n){return logger.error("Cannot extract message for event "+getEventDescription(t)),[]}return[]},t.prototype.Rt=function(t){try{if(t.stacktrace){var n=t.stacktrace.frames;return n&&n[n.length-1].filename||null}if(t.exception){var e=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return e&&e[e.length-1].filename||null}return null}catch(n){return logger.error("Cannot extract url for event "+getEventDescription(t)),null}},t.id="InboundFilters",t}(),CoreIntegrations=Object.freeze({__proto__:null,FunctionToString:FunctionToString,InboundFilters:InboundFilters}),esm$2=Object.freeze({__proto__:null,Integrations:CoreIntegrations,addBreadcrumb:addBreadcrumb,captureException:captureException,captureEvent:captureEvent,captureMessage:captureMessage,configureScope:configureScope,startTransaction:startTransaction,setContext:setContext,setExtra:setExtra,setExtras:setExtras,setTag:setTag,setTags:setTags,setUser:setUser,withScope:withScope,addGlobalEventProcessor:addGlobalEventProcessor,getCurrentHub:getCurrentHub,getHubFromCarrier:getHubFromCarrier,Hub:Hub,makeMain:makeMain,Scope:Scope,API:API,BaseClient:BaseClient,BaseBackend:BaseBackend,eventToSentryRequest:eventToSentryRequest,sessionToSentryRequest:sessionToSentryRequest,initAndBind:initAndBind,NoopTransport:NoopTransport,SDK_VERSION:SDK_VERSION}),UNKNOWN_FUNCTION="?",chrome=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gecko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. \/=]+)(?::(\d+))?(?::(\d+))?\s*$/i,winjs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,geckoEval=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,chromeEval=/\((\S*)(?::(\d+))(?::(\d+))\)/,reactMinifiedRegexp=/Minified React error #\d+;/i;function computeStackTrace(t){var n=null,e=0;t&&("number"==typeof t.framesToPop?e=t.framesToPop:reactMinifiedRegexp.test(t.message)&&(e=1));try{if(n=computeStackTraceFromStacktraceProp(t))return popFrames(n,e)}catch(t){}try{if(n=computeStackTraceFromStackProp(t))return popFrames(n,e)}catch(t){}return{message:extractMessage(t),name:t&&t.name,stack:[],failed:!0}}function computeStackTraceFromStackProp(t){if(!t||!t.stack)return null;for(var n,e,r,i=[],o=t.stack.split("\n"),s=0;s<o.length;++s){if(e=chrome.exec(o[s])){var a=e[2]&&0===e[2].indexOf("native");e[2]&&0===e[2].indexOf("eval")&&(n=chromeEval.exec(e[2]))&&(e[2]=n[1],e[3]=n[2],e[4]=n[3]),r={url:e[2]&&0===e[2].indexOf("address at ")?e[2].substr("address at ".length):e[2],func:e[1]||UNKNOWN_FUNCTION,args:a?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=winjs.exec(o[s]))r={url:e[2],func:e[1]||UNKNOWN_FUNCTION,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=gecko.exec(o[s])))continue;e[3]&&e[3].indexOf(" > eval")>-1&&(n=geckoEval.exec(e[3]))?(e[1]=e[1]||"eval",e[3]=n[1],e[4]=n[2],e[5]=""):0!==s||e[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:e[3],func:e[1]||UNKNOWN_FUNCTION,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!r.func&&r.line&&(r.func=UNKNOWN_FUNCTION),i.push(r)}return i.length?{message:extractMessage(t),name:t.name,stack:i}:null}function computeStackTraceFromStacktraceProp(t){if(!t||!t.stacktrace)return null;for(var n,e=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),o=[],s=0;s<i.length;s+=2){var a=null;(n=e.exec(i[s]))?a={url:n[2],func:n[3],args:[],line:+n[1],column:null}:(n=r.exec(i[s]))&&(a={url:n[6],func:n[3]||n[4],args:n[5]?n[5].split(","):[],line:+n[1],column:+n[2]}),a&&(!a.func&&a.line&&(a.func=UNKNOWN_FUNCTION),o.push(a))}return o.length?{message:extractMessage(t),name:t.name,stack:o}:null}function popFrames(t,n){try{return __assign(__assign({},t),{stack:t.stack.slice(n)})}catch(n){return t}}function extractMessage(t){var n=t&&t.message;return n?n.error&&"string"==typeof n.error.message?n.error.message:n:"No error message"}var STACKTRACE_LIMIT=50;function exceptionFromStacktrace(t){var n=prepareFramesForEvent(t.stack),e={type:t.name,value:t.message};return n&&n.length&&(e.stacktrace={frames:n}),void 0===e.type&&""===e.value&&(e.value="Unrecoverable error caught"),e}function eventFromPlainObject(t,n,e){var r={exception:{values:[{type:isEvent(t)?t.constructor.name:e?"UnhandledRejection":"Error",value:"Non-Error "+(e?"promise rejection":"exception")+" captured with keys: "+extractExceptionKeysForMessage(t)}]},extra:{__serialized__:normalizeToSize(t)}};if(n){var i=prepareFramesForEvent(computeStackTrace(n).stack);r.stacktrace={frames:i}}return r}function eventFromStacktrace(t){return{exception:{values:[exceptionFromStacktrace(t)]}}}function prepareFramesForEvent(t){if(!t||!t.length)return[];var n=t,e=n[0].func||"",r=n[n.length-1].func||"";return-1===e.indexOf("captureMessage")&&-1===e.indexOf("captureException")||(n=n.slice(1)),-1!==r.indexOf("sentryWrapped")&&(n=n.slice(0,-1)),n.slice(0,STACKTRACE_LIMIT).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||n[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}function eventFromException(t,n,e){var r=eventFromUnknownInput(n,e&&e.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return addExceptionMechanism(r,{handled:!0,type:"generic"}),r.level=exports.Severity.Error,e&&e.event_id&&(r.event_id=e.event_id),SyncPromise.resolve(r)}function eventFromMessage(t,n,e,r){void 0===e&&(e=exports.Severity.Info);var i=eventFromString(n,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=e,r&&r.event_id&&(i.event_id=r.event_id),SyncPromise.resolve(i)}function eventFromUnknownInput(t,n,e){var r;if(void 0===e&&(e={}),isErrorEvent(t)&&t.error)return r=eventFromStacktrace(computeStackTrace(t=t.error));if(isDOMError(t)||isDOMException(t)){var i=t,o=i.name||(isDOMError(i)?"DOMError":"DOMException"),s=i.message?o+": "+i.message:o;return addExceptionTypeValue(r=eventFromString(s,n,e),s),"code"in i&&(r.tags=__assign(__assign({},r.tags),{"DOMException.code":""+i.code})),r}return isError(t)?r=eventFromStacktrace(computeStackTrace(t)):isPlainObject(t)||isEvent(t)?(addExceptionMechanism(r=eventFromPlainObject(t,n,e.rejection),{synthetic:!0}),r):(addExceptionTypeValue(r=eventFromString(t,n,e),""+t,void 0),addExceptionMechanism(r,{synthetic:!0}),r)}function eventFromString(t,n,e){void 0===e&&(e={});var r={message:t};if(e.attachStacktrace&&n){var i=prepareFramesForEvent(computeStackTrace(n).stack);r.stacktrace={frames:i}}return r}var BaseTransport=function(){function t(t){this.options=t,this.I=new PromiseBuffer(30),this.Ct={},this.Mt=new API(t.dsn,t.Dt),this.url=this.Mt.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new SentryError("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this.I.drain(t)},t.prototype.At=function(t){var n=t.requestType,e=t.response,r=t.headers,i=t.resolve,o=t.reject,s=exports.Status.fromHttpCode(e.status);this.Ht(r)&&logger.warn("Too many requests, backing off until: "+this.Ft(n)),s!==exports.Status.Success?o(e):i({status:s})},t.prototype.Ft=function(t){return this.Ct[t]||this.Ct.all},t.prototype.Ut=function(t){return this.Ft(t)>new Date(Date.now())},t.prototype.Ht=function(t){var n,e,r,i,o=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var u=__values(s.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value.split(":",2),f=parseInt(l[0],10),h=1e3*(isNaN(f)?60:f);try{for(var d=(r=void 0,__values(l[1].split(";"))),v=d.next();!v.done;v=d.next()){var p=v.value;this.Ct[p||"all"]=new Date(o+h)}}catch(t){r={error:t}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}return!0}return!!a&&(this.Ct.all=new Date(o+parseRetryAfterHeader(o,a)),!0)},t}(),global$3=getGlobalObject(),FetchTransport=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.sendEvent=function(t){return this.$t(eventToSentryRequest(t,this.Mt),t)},n.prototype.sendSession=function(t){return this.$t(sessionToSentryRequest(t,this.Mt),t)},n.prototype.$t=function(t,n){var e=this;if(this.Ut(t.type))return Promise.reject({event:n,type:t.type,reason:"Transport locked till "+this.Ft(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:supportsReferrerPolicy()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this.I.add(new SyncPromise(function(n,i){global$3.fetch(t.url,r).then(function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};e.At({requestType:t.type,response:r,headers:o,resolve:n,reject:i})}).catch(i)}))},n}(BaseTransport),XHRTransport=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.sendEvent=function(t){return this.$t(eventToSentryRequest(t,this.Mt),t)},n.prototype.sendSession=function(t){return this.$t(sessionToSentryRequest(t,this.Mt),t)},n.prototype.$t=function(t,n){var e=this;return this.Ut(t.type)?Promise.reject({event:n,type:t.type,reason:"Transport locked till "+this.Ft(t.type)+" due to too many requests.",status:429}):this.I.add(new SyncPromise(function(n,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};e.At({requestType:t.type,response:i,headers:o,resolve:n,reject:r})}},i.open("POST",t.url),e.options.headers)e.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,e.options.headers[o]);i.send(t.body)}))},n}(BaseTransport),BrowserBackend=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.eventFromException=function(t,n){return eventFromException(this.at,t,n)},n.prototype.eventFromMessage=function(t,n,e){return void 0===n&&(n=exports.Severity.Info),eventFromMessage(this.at,t,n,e)},n.prototype.Ot=function(){if(!this.at.dsn)return t.prototype.Ot.call(this);var n=__assign(__assign({},this.at.transportOptions),{dsn:this.at.dsn,Dt:this.at.Dt});return this.at.transport?new this.at.transport(n):supportsFetch()?new FetchTransport(n):new XHRTransport(n)},n}(BaseBackend),ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError+=1,setTimeout(function(){ignoreOnError-=1})}function wrap(t,n,e){if(void 0===n&&(n={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(n){return t}var sentryWrapped=function(){var r=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);var i=r.map(function(t){return wrap(t,n)});return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(t){throw ignoreNextOnError(),withScope(function(e){e.addEventProcessor(function(t){var e=__assign({},t);return n.mechanism&&(addExceptionTypeValue(e,void 0,void 0),addExceptionMechanism(e,n.mechanism)),e.extra=__assign(__assign({},e.extra),{arguments:r}),e}),captureException(t)}),t}};try{for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(sentryWrapped[r]=t[r])}catch(t){}t.prototype=t.prototype||{},sentryWrapped.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:sentryWrapped}),Object.defineProperties(sentryWrapped,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(sentryWrapped,"name").configurable&&Object.defineProperty(sentryWrapped,"name",{get:function(){return t.name}})}catch(t){}return sentryWrapped}function injectReportDialog(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var n=document.createElement("script");n.async=!0,n.src=new API(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(n.onload=t.onLoad),(document.head||document.body).appendChild(n)}else logger.error("Missing dsn option in showReportDialog call");else logger.error("Missing eventId option in showReportDialog call")}var GlobalHandlers=function(){function t(n){this.name=t.id,this.Gt=!1,this.Lt=!1,this.at=__assign({onerror:!0,onunhandledrejection:!0},n)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this.at.onerror&&(logger.log("Global Handler attached: onerror"),this.Bt()),this.at.onunhandledrejection&&(logger.log("Global Handler attached: onunhandledrejection"),this.zt())},t.prototype.Bt=function(){var n=this;this.Gt||(addInstrumentationHandler({callback:function(e){var r=e.error,i=getCurrentHub(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(o&&!shouldIgnoreOnError()&&!s){var a=i.getClient(),u=isPrimitive(r)?n.Vt(e.msg,e.url,e.line,e.column):n.qt(eventFromUnknownInput(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),e.url,e.line,e.column);addExceptionMechanism(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:r})}},type:"error"}),this.Gt=!0)},t.prototype.zt=function(){var n=this;this.Lt||(addInstrumentationHandler({callback:function(e){var r=e;try{"reason"in e?r=e.reason:"detail"in e&&"reason"in e.detail&&(r=e.detail.reason)}catch(t){}var i=getCurrentHub(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!o||shouldIgnoreOnError()||s)return!0;var a=i.getClient(),u=isPrimitive(r)?n.Kt(r):eventFromUnknownInput(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});u.level=exports.Severity.Error,addExceptionMechanism(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this.Lt=!0)},t.prototype.Vt=function(t,n,e,r){var i,o=isErrorEvent(t)?t.message:t;if(isString(o)){var s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(i=s[1],o=s[2])}var a={exception:{values:[{type:i||"Error",value:o}]}};return this.qt(a,n,e,r)},t.prototype.Kt=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype.qt=function(t,n,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(e,10))?void 0:e,s=isString(n)&&n.length>0?n:getLocationHref();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:s,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],TryCatch=function(){function t(n){this.name=t.id,this.at=__assign({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},n)}return t.prototype.setupOnce=function(){var t=getGlobalObject();(this.at.setTimeout&&fill(t,"setTimeout",this.Wt.bind(this)),this.at.setInterval&&fill(t,"setInterval",this.Wt.bind(this)),this.at.requestAnimationFrame&&fill(t,"requestAnimationFrame",this.Xt.bind(this)),this.at.XMLHttpRequest&&"XMLHttpRequest"in t&&fill(XMLHttpRequest.prototype,"send",this.Jt.bind(this)),this.at.eventTarget)&&(Array.isArray(this.at.eventTarget)?this.at.eventTarget:DEFAULT_EVENT_TARGET).forEach(this.Yt.bind(this))},t.prototype.Wt=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=n[0];return n[0]=wrap(r,{mechanism:{data:{function:getFunctionName(t)},handled:!0,type:"instrument"}}),t.apply(this,n)}},t.prototype.Xt=function(t){return function(n){return t.call(this,wrap(n,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(t)},handled:!0,type:"instrument"}}))}},t.prototype.Yt=function(t){var n=getGlobalObject(),e=n[t]&&n[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(fill(e,"addEventListener",function(n){return function(e,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=wrap(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:getFunctionName(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return n.call(this,e,wrap(r,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(r),target:t},handled:!0,type:"instrument"}}),i)}}),fill(e,"removeEventListener",function(t){return function(n,e,r){var i,o=e;try{var s=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;s&&t.call(this,n,s,r)}catch(t){}return t.call(this,n,o,r)}}))},t.prototype.Jt=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(t){t in r&&"function"==typeof r[t]&&fill(r,t,function(n){var e={mechanism:{data:{function:t,handler:getFunctionName(n)},handled:!0,type:"instrument"}};return n.__sentry_original__&&(e.mechanism.data.handler=getFunctionName(n.__sentry_original__)),wrap(n,e)})}),t.apply(this,n)}},t.id="TryCatch",t}(),Breadcrumbs=function(){function t(n){this.name=t.id,this.at=__assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},n)}return t.prototype.addSentryBreadcrumb=function(t){this.at.sentry&&getCurrentHub().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:getEventDescription(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this.at.console&&addInstrumentationHandler({callback:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];t.Zt.apply(t,__spread(n))},type:"console"}),this.at.dom&&addInstrumentationHandler({callback:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];t.Qt.apply(t,__spread(n))},type:"dom"}),this.at.xhr&&addInstrumentationHandler({callback:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];t.tn.apply(t,__spread(n))},type:"xhr"}),this.at.fetch&&addInstrumentationHandler({callback:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];t.nn.apply(t,__spread(n))},type:"fetch"}),this.at.history&&addInstrumentationHandler({callback:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];t.en.apply(t,__spread(n))},type:"history"})},t.prototype.Zt=function(t){var n={category:"console",data:{arguments:t.args,logger:"console"},level:exports.Severity.fromString(t.level),message:safeJoin(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message="Assertion failed: "+(safeJoin(t.args.slice(1)," ")||"console.assert"),n.data.arguments=t.args.slice(1)}getCurrentHub().addBreadcrumb(n,{input:t.args,level:t.level})},t.prototype.Qt=function(t){var n;try{n=t.event.target?htmlTreeAsString(t.event.target):htmlTreeAsString(t.event)}catch(t){n="<unknown>"}0!==n.length&&getCurrentHub().addBreadcrumb({category:"ui."+t.name,message:n},{event:t.event,name:t.name,global:t.global})},t.prototype.tn=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var n=t.xhr.__sentry_xhr__||{},e=n.method,r=n.url,i=n.status_code,o=n.body;getCurrentHub().addBreadcrumb({category:"xhr",data:{method:e,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}else;},t.prototype.nn=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?getCurrentHub().addBreadcrumb({category:"fetch",data:t.fetchData,level:exports.Severity.Error,type:"http"},{data:t.error,input:t.args}):getCurrentHub().addBreadcrumb({category:"fetch",data:__assign(__assign({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype.en=function(t){var n=getGlobalObject(),e=t.from,r=t.to,i=parseUrl(n.location.href),o=parseUrl(e),s=parseUrl(r);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(e=o.relative),getCurrentHub().addBreadcrumb({category:"navigation",data:{from:e,to:r}})},t.id="Breadcrumbs",t}(),DEFAULT_KEY="cause",DEFAULT_LIMIT=5,LinkedErrors=function(){function t(n){void 0===n&&(n={}),this.name=t.id,this.rn=n.key||DEFAULT_KEY,this.j=n.limit||DEFAULT_LIMIT}return t.prototype.setupOnce=function(){addGlobalEventProcessor(function(n,e){var r=getCurrentHub().getIntegration(t);return r?r.in(n,e):n})},t.prototype.in=function(t,n){if(!(t.exception&&t.exception.values&&n&&isInstanceOf(n.originalException,Error)))return t;var e=this.on(n.originalException,this.rn);return t.exception.values=__spread(e,t.exception.values),t},t.prototype.on=function(t,n,e){if(void 0===e&&(e=[]),!isInstanceOf(t[n],Error)||e.length+1>=this.j)return e;var r=exceptionFromStacktrace(computeStackTrace(t[n]));return this.on(t[n],n,__spread([r],e))},t.id="LinkedErrors",t}(),global$4=getGlobalObject(),UserAgent=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){addGlobalEventProcessor(function(n){var e,r,i;if(getCurrentHub().getIntegration(t)){if(!global$4.navigator&&!global$4.location&&!global$4.document)return n;var o=(null===(e=n.request)||void 0===e?void 0:e.url)||(null===(r=global$4.location)||void 0===r?void 0:r.href),s=(global$4.document||{}).referrer,a=(global$4.navigator||{}).userAgent,u=__assign(__assign(__assign({},null===(i=n.request)||void 0===i?void 0:i.headers),s&&{Referer:s}),a&&{"User-Agent":a}),c=__assign(__assign({},o&&{url:o}),{headers:u});return __assign(__assign({},n),{request:c})}return n})},t.id="UserAgent",t}(),BrowserIntegrations=Object.freeze({__proto__:null,GlobalHandlers:GlobalHandlers,TryCatch:TryCatch,Breadcrumbs:Breadcrumbs,LinkedErrors:LinkedErrors,UserAgent:UserAgent}),BrowserClient=function(t){function n(n){return void 0===n&&(n={}),t.call(this,BrowserBackend,n)||this}return __extends(n,t),n.prototype.showReportDialog=function(t){void 0===t&&(t={}),getGlobalObject().document&&(this.vt()?injectReportDialog(__assign(__assign({},t),{dsn:t.dsn||this.getDsn()})):logger.error("Trying to call showReportDialog with Sentry Client disabled"))},n.prototype.gt=function(n,e,r){return n.platform=n.platform||"javascript",t.prototype.gt.call(this,n,e,r)},n.prototype.Et=function(n){var e=this.getIntegration(Breadcrumbs);e&&e.addSentryBreadcrumb(n),t.prototype.Et.call(this,n)},n}(BaseClient),defaultIntegrations=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new UserAgent],windowIntegrations={},_window=getGlobalObject();_window.Sentry&&_window.Sentry.Integrations&&(windowIntegrations=_window.Sentry.Integrations);var INTEGRATIONS=__assign(__assign(__assign({},windowIntegrations),CoreIntegrations),BrowserIntegrations);function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,n){return t(n={exports:{}},n.exports),n.exports}function getCjsExportFromNamespace(t){return t&&t.default||t}var tslib_1=getCjsExportFromNamespace(_tslib),tracekit=createCommonjsModule(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e="?",r=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. \/=]+)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=/Minified React error #\d+;/i;function c(t,n){try{return tslib_1.__assign(tslib_1.__assign({},t),{stack:t.stack.slice(n)})}catch(n){return t}}function l(t){var n=t&&t.message;return n?n.error&&"string"==typeof n.error.message?n.error.message:n:"No error message"}n.computeStackTrace=function(t){var n=null,f=0;t&&("number"==typeof t.framesToPop?f=t.framesToPop:u.test(t.message)&&(f=1));try{if(n=function(t){if(!t||!t.stacktrace)return null;for(var n,r=t.stacktrace,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,s=r.split("\n"),a=[],u=0;u<s.length;u+=2){var c=null;(n=i.exec(s[u]))?c={url:n[2],func:n[3],args:[],line:+n[1],column:null}:(n=o.exec(s[u]))&&(c={url:n[6],func:n[3]||n[4],args:n[5]?n[5].split(","):[],line:+n[1],column:+n[2]}),c&&(!c.func&&c.line&&(c.func=e),a.push(c))}return a.length?{message:l(t),name:t.name,stack:a}:null}(t))return c(n,f)}catch(t){}try{if(n=function(t){if(!t||!t.stack)return null;for(var n,u,c,f=[],h=t.stack.split("\n"),d=0;d<h.length;++d){if(u=r.exec(h[d])){var v=u[2]&&0===u[2].indexOf("native");u[2]&&0===u[2].indexOf("eval")&&(n=a.exec(u[2]))&&(u[2]=n[1],u[3]=n[2],u[4]=n[3]),c={url:u[2]&&0===u[2].indexOf("address at ")?u[2].substr("address at ".length):u[2],func:u[1]||e,args:v?[u[2]]:[],line:u[3]?+u[3]:null,column:u[4]?+u[4]:null}}else if(u=o.exec(h[d]))c={url:u[2],func:u[1]||e,args:[],line:+u[3],column:u[4]?+u[4]:null};else{if(!(u=i.exec(h[d])))continue;u[3]&&u[3].indexOf(" > eval")>-1&&(n=s.exec(u[3]))?(u[1]=u[1]||"eval",u[3]=n[1],u[4]=n[2],u[5]=""):0!==d||u[5]||void 0===t.columnNumber||(f[0].column=t.columnNumber+1),c={url:u[3],func:u[1]||e,args:u[2]?u[2].split(","):[],line:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}!c.func&&c.line&&(c.func=e),f.push(c)}return f.length?{message:l(t),name:t.name,stack:f}:null}(t))return c(n,f)}catch(t){}return{message:l(t),name:t&&t.name,stack:[],failed:!0}}});unwrapExports(tracekit);var tracekit_1=tracekit.computeStackTrace,parsers=createCommonjsModule(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=50;function r(t){var n=i(t.stack),e={type:t.name,value:t.message};return n&&n.length&&(e.stacktrace={frames:n}),void 0===e.type&&""===e.value&&(e.value="Unrecoverable error caught"),e}function i(t){if(!t||!t.length)return[];var n=t,r=n[0].func||"",i=n[n.length-1].func||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(n=n.slice(1)),-1!==i.indexOf("sentryWrapped")&&(n=n.slice(0,-1)),n.slice(0,e).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||n[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}n.exceptionFromStacktrace=r,n.eventFromPlainObject=function(t,n,e){var r={exception:{values:[{type:esm$1.isEvent(t)?t.constructor.name:e?"UnhandledRejection":"Error",value:"Non-Error "+(e?"promise rejection":"exception")+" captured with keys: "+esm$1.extractExceptionKeysForMessage(t)}]},extra:{__serialized__:esm$1.normalizeToSize(t)}};if(n){var o=i(tracekit.computeStackTrace(n).stack);r.stacktrace={frames:o}}return r},n.eventFromStacktrace=function(t){return{exception:{values:[r(t)]}}},n.prepareFramesForEvent=i});unwrapExports(parsers);var parsers_1=parsers.exceptionFromStacktrace,parsers_2=parsers.eventFromPlainObject,parsers_3=parsers.eventFromStacktrace,parsers_4=parsers.prepareFramesForEvent,eventbuilder=createCommonjsModule(function(t,n){function e(t,n,e){var i;if(void 0===e&&(e={}),esm$1.isErrorEvent(t)&&t.error)return t=t.error,i=parsers.eventFromStacktrace(tracekit.computeStackTrace(t));if(esm$1.isDOMError(t)||esm$1.isDOMException(t)){var o=t,s=o.name||(esm$1.isDOMError(o)?"DOMError":"DOMException"),a=o.message?s+": "+o.message:s;return i=r(a,n,e),esm$1.addExceptionTypeValue(i,a),"code"in o&&(i.tags=tslib_1.__assign(tslib_1.__assign({},i.tags),{"DOMException.code":""+o.code})),i}if(esm$1.isError(t))return i=parsers.eventFromStacktrace(tracekit.computeStackTrace(t));if(esm$1.isPlainObject(t)||esm$1.isEvent(t)){var u=t;return i=parsers.eventFromPlainObject(u,n,e.rejection),esm$1.addExceptionMechanism(i,{synthetic:!0}),i}return i=r(t,n,e),esm$1.addExceptionTypeValue(i,""+t,void 0),esm$1.addExceptionMechanism(i,{synthetic:!0}),i}function r(t,n,e){void 0===e&&(e={});var r={message:t};if(e.attachStacktrace&&n){var i=tracekit.computeStackTrace(n),o=parsers.prepareFramesForEvent(i.stack);r.stacktrace={frames:o}}return r}Object.defineProperty(n,"__esModule",{value:!0}),n.eventFromException=function(t,n,r){var i=e(n,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return esm$1.addExceptionMechanism(i,{handled:!0,type:"generic"}),i.level=esm.Severity.Error,r&&r.event_id&&(i.event_id=r.event_id),esm$1.SyncPromise.resolve(i)},n.eventFromMessage=function(t,n,e,i){void 0===e&&(e=esm.Severity.Info);var o=r(n,i&&i.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return o.level=e,i&&i.event_id&&(o.event_id=i.event_id),esm$1.SyncPromise.resolve(o)},n.eventFromUnknownInput=e,n.eventFromString=r});unwrapExports(eventbuilder);var eventbuilder_1=eventbuilder.eventFromException,eventbuilder_2=eventbuilder.eventFromMessage,eventbuilder_3=eventbuilder.eventFromUnknownInput,eventbuilder_4=eventbuilder.eventFromString,base=createCommonjsModule(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t){this.options=t,this.I=new esm$1.PromiseBuffer(30),this.Ct={},this.Mt=new esm$2.API(t.dsn,t.Dt),this.url=this.Mt.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new esm$1.SentryError("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this.I.drain(t)},t.prototype.At=function(t){var n=t.requestType,e=t.response,r=t.headers,i=t.resolve,o=t.reject,s=esm.Status.fromHttpCode(e.status);this.Ht(r)&&esm$1.logger.warn("Too many requests, backing off until: "+this.Ft(n)),s!==esm.Status.Success?o(e):i({status:s})},t.prototype.Ft=function(t){return this.Ct[t]||this.Ct.all},t.prototype.Ut=function(t){return this.Ft(t)>new Date(Date.now())},t.prototype.Ht=function(t){var n,e,r,i,o=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var u=tslib_1.__values(s.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value.split(":",2),f=parseInt(l[0],10),h=1e3*(isNaN(f)?60:f);try{for(var d=(r=void 0,tslib_1.__values(l[1].split(";"))),v=d.next();!v.done;v=d.next()){var p=v.value;this.Ct[p||"all"]=new Date(o+h)}}catch(t){r={error:t}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}return!0}return!!a&&(this.Ct.all=new Date(o+esm$1.parseRetryAfterHeader(o,a)),!0)},t}();n.BaseTransport=e});unwrapExports(base);var base_1=base.BaseTransport,fetch=createCommonjsModule(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=esm$1.getGlobalObject(),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return tslib_1.__extends(n,t),n.prototype.sendEvent=function(t){return this.$t(esm$2.eventToSentryRequest(t,this.Mt),t)},n.prototype.sendSession=function(t){return this.$t(esm$2.sessionToSentryRequest(t,this.Mt),t)},n.prototype.$t=function(t,n){var r=this;if(this.Ut(t.type))return Promise.reject({event:n,type:t.type,reason:"Transport locked till "+this.Ft(t.type)+" due to too many requests.",status:429});var i={body:t.body,method:"POST",referrerPolicy:esm$1.supportsReferrerPolicy()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(i,this.options.fetchParameters),void 0!==this.options.headers&&(i.headers=this.options.headers),this.I.add(new esm$1.SyncPromise(function(n,o){e.fetch(t.url,i).then(function(e){var i={"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")};r.At({requestType:t.type,response:e,headers:i,resolve:n,reject:o})}).catch(o)}))},n}(base.BaseTransport);n.FetchTransport=r});unwrapExports(fetch);var fetch_1=fetch.FetchTransport,xhr=createCommonjsModule(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return tslib_1.__extends(n,t),n.prototype.sendEvent=function(t){return this.$t(esm$2.eventToSentryRequest(t,this.Mt),t)},n.prototype.sendSession=function(t){return this.$t(esm$2.sessionToSentryRequest(t,this.Mt),t)},n.prototype.$t=function(t,n){var e=this;return this.Ut(t.type)?Promise.reject({event:n,type:t.type,reason:"Transport locked till "+this.Ft(t.type)+" due to too many requests.",status:429}):this.I.add(new esm$1.SyncPromise(function(n,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};e.At({requestType:t.type,response:i,headers:o,resolve:n,reject:r})}},i.open("POST",t.url),e.options.headers)e.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,e.options.headers[o]);i.send(t.body)}))},n}(base.BaseTransport);n.XHRTransport=e});unwrapExports(xhr);var xhr_1=xhr.XHRTransport,transports=createCommonjsModule(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseTransport=base.BaseTransport,n.FetchTransport=fetch.FetchTransport,n.XHRTransport=xhr.XHRTransport});unwrapExports(transports);var transports_1=transports.BaseTransport,transports_2=transports.FetchTransport,transports_3=transports.XHRTransport,backend=createCommonjsModule(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return tslib_1.__extends(n,t),n.prototype.eventFromException=function(t,n){return eventbuilder.eventFromException(this.at,t,n)},n.prototype.eventFromMessage=function(t,n,e){return void 0===n&&(n=esm.Severity.Info),eventbuilder.eventFromMessage(this.at,t,n,e)},n.prototype.Ot=function(){if(!this.at.dsn)return t.prototype.Ot.call(this);var n=tslib_1.__assign(tslib_1.__assign({},this.at.transportOptions),{dsn:this.at.dsn,Dt:this.at.Dt});return this.at.transport?new this.at.transport(n):esm$1.supportsFetch()?new transports.FetchTransport(n):new transports.XHRTransport(n)},n}(esm$2.BaseBackend);n.BrowserBackend=e});unwrapExports(backend);var CordovaPlatformType,backend_1=backend.BrowserBackend;!function(t){t.Ios="ios",t.Android="android",t.Browser="browser"}(CordovaPlatformType||(CordovaPlatformType={}));var serializeObject=function(t){var n={};return Object.keys(t).forEach(function(e){var r=t[e];n[e]="string"==typeof r?r:JSON.stringify(r)}),n},processLevel=function(t){return t===exports.Severity.Critical?exports.Severity.Fatal:t===exports.Severity.Log?exports.Severity.Debug:t},getPlatform=function(){var t,n=getGlobalObject(),e=null===(t=null==n?void 0:n.cordova)||void 0===t?void 0:t.platformId;return e&&Object.values(CordovaPlatformType).includes(e)||(e=CordovaPlatformType.Browser),e},NATIVE={PLUGIN_NAME:"Sentry",SUPPORTS_NATIVE_TRANSPORT:[CordovaPlatformType.Ios,CordovaPlatformType.Android],SUPPORTS_NATIVE_SCOPE_SYNC:[CordovaPlatformType.Ios,CordovaPlatformType.Android],SUPPORTS_NATIVE_SDK:[CordovaPlatformType.Android,CordovaPlatformType.Ios],startWithOptions:function(t){return __awaiter(this,void 0,void 0,function(){var n,e,r=this;return __generator(this,function(i){return this.SUPPORTS_NATIVE_SDK.includes(getPlatform())?(n=__assign({enableNative:!0},t),this.enableNative=n.enableNative,n.enableNative?n.dsn?(n.beforeSend,n.beforeBreadcrumb,n.integrations,n.defaultIntegrations,n.transport,e=__rest(n,["beforeSend","beforeBreadcrumb","integrations","defaultIntegrations","transport"]),[2,this.sn("startWithOptions",e).then(function(){return r.an=!0,!0}).catch(function(){return r.an=!1,logger.warn("Warning: Native SDK was not initialized."),!1})]):(logger.warn("Warning: No DSN was provided. The Sentry SDK will be disabled. Native SDK will also not be initialized."),[2,!1]):[2,!1]):(this.an=!1,[2,!1])})})},sendEvent:function(t){var n;return __awaiter(this,void 0,void 0,function(){var e,r,i,o,s,a;return __generator(this,function(u){if(!this.isNativeClientAvailable())throw this.un;if(!this.isNativeTransportAvailable())throw this.cn;return t.level=t.level?processLevel(t.level):void 0,e={event_id:t.event_id,sdk:t.sdk},r=__assign(__assign({},t),{message:{message:t.message}}),getPlatform()===CordovaPlatformType.Android?(i=JSON.stringify(e),o=JSON.stringify(r),s=null!==(n=r.type)&&void 0!==n?n:"event",[2,this.sn("captureEnvelope",i,o,s)]):(a=JSON.parse(JSON.stringify(r)),[2,this.sn("captureEnvelope",e,a)])})})},sn:function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(r){return[2,new Promise(function(r,i){if(e.enableNative){var o=getGlobalObject();if(o&&o.Cordova&&o.Cordova.exec)try{o.Cordova.exec(r,i,e.PLUGIN_NAME,t,n)}catch(t){i("Cordova.exec not available")}else i("Cordova.exec not available")}else i("enableNative = false, using browser transport")})]})})},setUser:function(t){if(this.isNativeScopeSyncAvailable()){var n=null,e=null;if(t){var r=t.id,i=t.ip_address,o=t.email,s=t.username,a=__rest(t,["id","ip_address","email","username"]);n=serializeObject({email:o,id:r,ip_address:i,username:s}),e=serializeObject(a)}this.sn("setUser",n,e)}},setTag:function(t,n){if(this.isNativeScopeSyncAvailable()){var e="string"==typeof n?n:JSON.stringify(n);this.sn("setTag",t,e)}},setExtra:function(t,n){if(this.isNativeScopeSyncAvailable()){var e="string"==typeof n?n:JSON.stringify(n);this.sn("setExtra",t,e)}},addBreadcrumb:function(t){this.isNativeScopeSyncAvailable()&&this.sn("addBreadcrumb",__assign(__assign({},t),{level:t.level?processLevel(t.level):void 0,data:t.data?serializeObject(t.data):void 0}))},clearBreadcrumbs:function(){this.isNativeScopeSyncAvailable()&&this.sn("clearBreadcrumbs")},setContext:function(t,n){this.isNativeScopeSyncAvailable()&&this.sn("setContext",t,null!==n?serializeObject(n):null)},crash:function(){if(this.enableNative){if(!this.isNativeClientAvailable())throw this.un;this.sn("crash")}},isNativeClientAvailable:function(){return this.enableNative&&this.an},isNativeTransportAvailable:function(){return this.isNativeClientAvailable()&&this.SUPPORTS_NATIVE_TRANSPORT.includes(getPlatform())},isNativeScopeSyncAvailable:function(){return this.isNativeClientAvailable()&&this.SUPPORTS_NATIVE_SCOPE_SYNC.includes(getPlatform())},un:new SentryError("Native Client is not available."),cn:new SentryError("Native Transport is not available."),enableNative:!0,an:!1,ln:!1},CordovaTransport=function(){function t(t){this.I=new PromiseBuffer(30),supportsFetch()?this.fn=new transports_2(t):this.fn=new transports_3(t)}return t.prototype.sendEvent=function(t){return NATIVE.isNativeTransportAvailable()?this.I.isReady()?this.I.add(NATIVE.sendEvent(t)):Promise.reject(new SentryError("Not adding Promise due to buffer limit reached.")):this.fn.sendEvent(t)},t.prototype.close=function(t){return Promise.all([this.I.drain(t),this.fn.close()]).then(function(t){var n=__read(t,2),e=n[0],r=n[1];return e&&r})},t}(),CordovaBackend=function(t){function n(n){var e=t.call(this,n)||this;return e.at=n,e.hn=new backend_1(n),e.dn()&&!1!==n.enableNative&&(e.vn=function(){e.pn()},getGlobalObject().document.addEventListener("deviceready",e.vn)),e}return __extends(n,t),n.prototype.eventFromException=function(t,n){return this.hn.eventFromException(t,n)},n.prototype.eventFromMessage=function(t,n,e){return void 0===n&&(n=exports.Severity.Info),this.hn.eventFromMessage(t,n,e)},n.prototype.Ot=function(){if(!this.at.dsn)return new NoopTransport;var t=__assign(__assign({},this.at.transportOptions),{dsn:this.at.dsn});return this.at.transport?new this.at.transport(t):new CordovaTransport(t)},n.prototype.pn=function(){this.vn&&(getGlobalObject().document.removeEventListener("deviceready",this.vn),forget(NATIVE.startWithOptions(this.at)))},n.prototype.dn=function(){return void 0!==getGlobalObject().cordova||void 0!==getGlobalObject().Cordova},n}(BaseBackend),SDK_NAME="sentry.javascript.cordova",SDK_VERSION$1="1.0.4",CordovaClient=function(t){function n(n){return t.call(this,CordovaBackend,n)||this}return __extends(n,t),n.prototype.gt=function(n,e,r){return n.platform=n.platform||"javascript",n.sdk=__assign(__assign({},n.sdk),{name:SDK_NAME,packages:__spread(n.sdk&&n.sdk.packages||[],[{name:"npm:sentry-cordova",version:SDK_VERSION$1}]),version:SDK_VERSION$1}),n.tags||(n.tags={}),n.tags["event.origin"]="cordova",n.tags["event.environment"]="javascript",t.prototype.gt.call(this,n,e,r)},n}(BaseClient),PATH_STRIP_RE=/^.*\/[^.]+(\.app|CodePush|.*(?=\/))/;function normalizeUrl(t,n){return"app://"+t.replace(/^file:\/\//,"").replace(n,"")}function normalizeData(t){t.culprit&&(t.culprit=normalizeUrl(t.culprit,PATH_STRIP_RE));var n=t.stacktrace||t.exception&&t.exception.values&&t.exception.values[0].stacktrace;return n&&n.frames.forEach(function(t){"[native code]"!==t.filename&&"<anonymous>"!==t.filename&&(t.filename=normalizeUrl(t.filename,PATH_STRIP_RE))}),t}var Cordova=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){addGlobalEventProcessor(function(n){return getCurrentHub().getIntegration(t)?normalizeData(n):n})},t.id="Cordova",t}(),index=Object.freeze({__proto__:null,Cordova:Cordova}),CordovaScope=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.setUser=function(n){return NATIVE.setUser(n),t.prototype.setUser.call(this,n)},n.prototype.setTag=function(n,e){return NATIVE.setTag(n,e),t.prototype.setTag.call(this,n,e)},n.prototype.setTags=function(n){return Object.keys(n).forEach(function(t){NATIVE.setTag(t,n[t])}),t.prototype.setTags.call(this,n)},n.prototype.setExtras=function(n){return Object.keys(n).forEach(function(t){NATIVE.setExtra(t,n[t])}),t.prototype.setExtras.call(this,n)},n.prototype.setExtra=function(n,e){return NATIVE.setExtra(n,e),t.prototype.setExtra.call(this,n,e)},n.prototype.addBreadcrumb=function(n,e){return NATIVE.addBreadcrumb(n),t.prototype.addBreadcrumb.call(this,n,e)},n.prototype.clearBreadcrumbs=function(){return NATIVE.clearBreadcrumbs(),t.prototype.clearBreadcrumbs.call(this)},n.prototype.setContext=function(n,e){return NATIVE.setContext(n,e),t.prototype.setContext.call(this,n,e)},n}(Scope),DEFAULT_INTEGRATIONS=__spread(defaultIntegrations,[new Cordova]),DEFAULT_OPTIONS={enableNative:!0,defaultIntegrations:DEFAULT_INTEGRATIONS,enableAutoSessionTracking:!0,enableNdkScopeSync:!1,attachThreads:!1};function init(t){var n,e=getGlobalObject(),r=__assign(__assign(__assign({},DEFAULT_OPTIONS),{release:null===(n=null==e?void 0:e.SENTRY_RELEASE)||void 0===n?void 0:n.id}),t);makeMain(new Hub(void 0,new CordovaScope)),initAndBind(CordovaClient,r)}function nativeCrash(){NATIVE.isNativeClientAvailable()&&NATIVE.crash()}var withSentryIonicErrorHandler=function(t){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.handleError=function(n){var e;t.prototype.handleError.call(this,n),captureException(null!==(e=n.originalError)&&void 0!==e?e:n)},n}(t)};exports.BrowserIntegrations=INTEGRATIONS,exports.CordovaBackend=CordovaBackend,exports.CordovaClient=CordovaClient,exports.Hub=Hub,exports.Integrations=index,exports.SDK_NAME=SDK_NAME,exports.SDK_VERSION=SDK_VERSION$1,exports.Scope=Scope,exports.addBreadcrumb=addBreadcrumb,exports.addGlobalEventProcessor=addGlobalEventProcessor,exports.captureEvent=captureEvent,exports.captureException=captureException,exports.captureMessage=captureMessage,exports.configureScope=configureScope,exports.getCurrentHub=getCurrentHub,exports.getHubFromCarrier=getHubFromCarrier,exports.init=init,exports.nativeCrash=nativeCrash,exports.setContext=setContext,exports.setExtra=setExtra,exports.setExtras=setExtras,exports.setTag=setTag,exports.setTags=setTags,exports.setUser=setUser,exports.startTransaction=startTransaction,exports.withScope=withScope,exports.withSentryIonicErrorHandler=withSentryIonicErrorHandler;
//# sourceMappingURL=sentry-cordova.bundle.min.js.map
